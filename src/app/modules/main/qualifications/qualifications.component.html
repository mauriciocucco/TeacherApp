<div id="container">
	<div id="filters">
		<mat-card>
			<mat-card-header>Filtros</mat-card-header>
			<mat-card-content>
				<div id="content-container">
					<div class="first-row">
						<mat-radio-group
							aria-label="Elegí una materia"
							[(ngModel)]="defaultSubject">
							<mat-radio-button
								*ngFor="let subject of subjects"
								[value]="subject.id"
								>{{ subject.name }}</mat-radio-button
							>
						</mat-radio-group>
					</div>
					<div class="second-row">
						<mat-form-field>
							<mat-label>Alumno</mat-label>
							<input
								type="text"
								matInput
								placeholder="Nombre y apellido"
								[matAutocomplete]="auto"
								aria-label="Number"
								[formControl]="studentFilterControl" />
							<mat-autocomplete
								autoActiveFirstOption
								#auto="matAutocomplete">
								<mat-option
									*ngFor="
										let student of filteredOptions | async
									"
									[value]="
										student.name + ' ' + student.lastName
									">
									{{ student.name }} {{ student.lastName }}
								</mat-option>
							</mat-autocomplete>
						</mat-form-field>
						<mat-form-field appearance="fill">
							<mat-label>Tarea</mat-label>
							<input matInput placeholder="Nombre de la tarea" />
						</mat-form-field>
						<mat-form-field appearance="fill">
							<mat-label>Exámen</mat-label>
							<input matInput placeholder="Nombre del exámen" />
						</mat-form-field>
						<mat-form-field appearance="fill">
							<mat-label>Ingrese un período</mat-label>
							<mat-date-range-input [rangePicker]="picker">
								<input matStartDate placeholder="Desde" />
								<input matEndDate placeholder="Hasta" />
							</mat-date-range-input>
							<mat-hint>DD/MM/AAAA – DD/MM/AAAA</mat-hint>
							<mat-datepicker-toggle
								matIconSuffix
								[for]="picker"></mat-datepicker-toggle>
							<mat-date-range-picker
								#picker></mat-date-range-picker>
						</mat-form-field>
					</div>
				</div>
			</mat-card-content>
		</mat-card>
	</div>

	<div id="students-cards-container">
		<mat-card *ngFor="let student of studentsProjects">
			<mat-card-header
				>{{ student.name }} {{ student.lastName }}</mat-card-header
			>
			<mat-card-content>
				<mat-tab-group #tabChildren id="qualifications-tab-group">
					<mat-tab label="Tareas">
						<div class="cards-wrapper">
							<mat-card
								class="qualification-card"
								*ngFor="let task of tasks">
								<mat-card-header
									class="qualification-card-header">
									<h3>{{ task.name }}</h3>
									<p>{{ task.date | shortDate }}</p>
								</mat-card-header>
								<mat-card-content>
									<div class="qualification-card-content">
										<mat-form-field appearance="fill">
											<mat-label>Nota</mat-label>
											<mat-select
												[value]="
													{
														studentProjects:
															student.projects,
														projectToMatch: task.id
													}
														| studentData
															: 'qualification'
												">
												<mat-option
													*ngFor="
														let qualification of qualifications
													"
													[value]="qualification.id">
													{{ qualification.name }}
												</mat-option>
											</mat-select>
										</mat-form-field>
										<mat-form-field
											class="observation-textarea">
											<mat-label>Observación</mat-label>
											<textarea matInput
												>{{
													{
														studentProjects:
															student.projects,
														projectToMatch: task.id
													}
														| studentData
															: 'observation'
												}}
												</textarea
											>
										</mat-form-field>
									</div>
								</mat-card-content>
							</mat-card>
						</div>
					</mat-tab>
					<mat-tab label="Exámenes">
						<div class="cards-wrapper">
							<mat-card
								class="qualification-card"
								*ngFor="let exam of exams">
								<mat-card-header
									class="qualification-card-header">
									<h3>{{ exam.name }}</h3>
									<p>{{ exam.date | shortDate }}</p>
								</mat-card-header>
								<mat-card-content>
									<div class="qualification-card-content">
										<mat-form-field appearance="fill">
											<mat-label>Nota</mat-label>
											<input
												matInput
												placeholder="Nota del exámen"
												[value]="
													{
														studentProjects:
															student.exams,
														projectToMatch: exam.id
													} | studentData : 'exams'
												" />
										</mat-form-field>
										<mat-form-field
											class="observation-textarea">
											<mat-label>Observación</mat-label>
											<textarea matInput
												>{{
													{
														studentProjects:
															student.exams,
														projectToMatch: exam.id
													}
														| studentData
															: 'observation'
												}}
												</textarea
											>
										</mat-form-field>
									</div>
								</mat-card-content>
							</mat-card>
						</div>
					</mat-tab>
				</mat-tab-group>
			</mat-card-content>
		</mat-card>
	</div>
</div>
